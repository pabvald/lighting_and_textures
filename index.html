<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="./estilos/estilo01.css">
  <title> Pr√°ctica 03</title>
  
  <!-- ****************   VERTEX SHADER *******************-->
  <script id="vertex-shader" type="x-shader/x-vertex">

    attribute vec3 a_position;  
    attribute vec3 u_color;
    attribute vec3 a_normal;

    uniform bool directional_lighting;

    uniform mat4 rotation;    
    uniform vec3 light_direction;
    uniform vec3 light_color;
    varying highp vec4 vColor;

    void main() {     
      gl_Position = rotation*vec4(a_position, 1.0);      

      if(directional_lighting) {
        vec3 normal = mat3(rotation)*normalize(a_normal);
        float nDotL = max(dot(light_direction,normal),0.0);
        vec3 directional = light_color * u_color * nDotL;
        vColor = vec4(directional.xyz,1.0);
      } else {
        vColor = vec4(u_color,1);
      }
    }

  </script>

  <!-- ****************   FRAGMENT SHADER *******************-->
  <script id="fragment-shader" type="x-shader/x-fragment">
    varying highp vec4 vColor;
  

    void main() {       
      
        gl_FragColor = vColor;
    }
  </script>

  <script type="text/javascript" src="./libGL/dist/gl-matrix-min.js"></script>
 <script type="text/javascript" src="./libGL/dist/gl-matrix.js"></script>

  <!-- **************** FUNCIONES JAVASCRIPT ****************-->
  <script type="text/javascript" src="index.js"></script>

  </head>
  <body id="body" onload="initWebGL()">   
    <h1> Lighting and textures</h1> 
    <div>
      <table>
        <tr>
          <td>
            <div id="lightingcontainer">
              <h4> Lighting</h4>
              <ul type="none">
                <li><input type="checkbox" name="directional_lighting" onchange="onChangeLighting(1)" checked> Directional lighting  </li>
                <li><input type="checkbox" name="point_lighting" onchange="onChangeLighting(2)">               Point lighting        </li>
                <li><input type="checkbox" name="spot_lighting" onchange="onChangeLighting(3)">                Spot lighting         </li>
              </ul>
            </div>
          </td>
           <td>
            <div id="div-canvas" >
              <canvas id="canvas" width="500" height="500" ></canvas>
            </div>
           </td>
           <td>
             <div></div>
          </td>
        </tr>
        
      </table> 
    <div>
  </body>
</html>